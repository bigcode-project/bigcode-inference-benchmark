# bigcode-inference-benchmark

BLOOM\
HF-accelerate\
A100 80GB

tokens/sec | msec/token
| batch_size |       fp32      | bf16 | int8<br>LLM.int8() |
|:----------:|:---------------:|:----:|:------------------:|
| 1          | 45.04 \| 22.20  |      |                    |
| 2          | 84.39 \| 11.85  |      |                    |
| 4          | 167.85 \| 5.96  |      |                    |
| 8          | 326.72 \| 3.06  |      |                    |
| 16         | 682.63 \| 1.46  |      |                    |
| 32         | 1374.97 \| 0.73 |      |                    |
| 64         | 2380.43 \| 0.42 |      |                    |
| 128        | 2684.96 \| 0.37 |      |                    |
| 256        | 3322.43 \| 0.30 |      |                    |
| 384        | 2585.01 \| 0.39 |      |                    |
| 512        | 2618.64 \| 0.38 |      |                    |
| 640        | 2672.61 \| 0.37 |      |                    |
| 768        | 2630.32 \| 0.38 |      |                    |
| 896        | 2558.04 \| 0.39 |      |                    |

sec
| batch_size |  fp32 | bf16 | int8<br>LLM.int8() |
|:----------:|:-----:|:----:|:------------------:|
| 1          | 2.22  |      |                    |
| 2          | 2.37  |      |                    |
| 4          | 2.38  |      |                    |
| 8          | 2.45  |      |                    |
| 16         | 2.34  |      |                    |
| 32         | 2.33  |      |                    |
| 64         | 2.69  |      |                    |
| 128        | 4.77  |      |                    |
| 256        | 7.71  |      |                    |
| 384        | 14.85 |      |                    |
| 512        | 19.55 |      |                    |
| 640        | 23.95 |      |                    |
| 768        | 29.20 |      |                    |
| 896        | 35.03 |      |                    |