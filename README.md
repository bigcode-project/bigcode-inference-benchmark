# bigcode-inference-benchmark

BLOOM\
HF-accelerate\
A100 80GB

tokens/sec | msec/token
| batch_size |       fp32      |       bf16      | int8<br>LLM.int8() |
|:----------:|:---------------:|:---------------:|:------------------:|
| 1          | 45.31 \| 22.07  | 42.23 \| 23.68  |                    |
| 2          | 86.60 \| 11.55  | 83.79 \| 11.93  |                    |
| 4          | 171.38 \| 5.83  | 168.91 \| 5.92  |                    |
| 8          | 325.98 \| 3.07  | 328.11 \| 3.05  |                    |
| 16         | 655.23 \| 1.53  | 669.15 \| 1.49  |                    |
| 32         | 1356.57 \| 0.74 | 1277.78 \| 0.78 |                    |
| 64         | 2373.14 \| 0.42 | 2605.26 \| 0.38 |                    |
| 128        | 2688.91 \| 0.37 | 4780.32 \| 0.21 |                    |
| 256        | 3325.01 \| 0.30 | 6549.67 \| 0.15 |                    |
| 384        | 3261.28 \| 0.31 | 7319.86 \| 0.14 |                    |
| 512        | 3369.69 \| 0.30 | 7425.47 \| 0.13 |                    |
| 640        | 3506.41 \| 0.29 | 7553.05 \| 0.13 |                    |
| 768        | 3461.95 \| 0.29 | 7681.78 \| 0.13 |                    |
| 896        | 3346.01 \| 0.30 | 7544.19 \| 0.13 |                    |
| 1024       | oom             | 7703.84 \| 0.13 |                    |
| 1152       | oom             | 7728.71 \| 0.13 |                    |
| 1280       | oom             | 7799.99 \| 0.13 |                    |
| 1408       | oom             | 7776.64 \| 0.13 |                    |
| 1536       | oom             | 7802.61 \| 0.13 |                    |
| 1664       | oom             | 7783.20 \| 0.13 |                    |
| 1792       | oom             | 7738.55 \| 0.13 |                    |
| 1920       | oom             | oom             |                    |

sec
| batch_size |  fp32 |  bf16 | int8<br>LLM.int8() |
|:----------:|:-----:|:-----:|:------------------:|
| 1          | 2.21  | 2.37  |                    |
| 2          | 2.31  | 2.39  |                    |
| 4          | 2.33  | 2.37  |                    |
| 8          | 2.45  | 2.44  |                    |
| 16         | 2.44  | 2.39  |                    |
| 32         | 2.36  | 2.50  |                    |
| 64         | 2.70  | 2.46  |                    |
| 128        | 4.76  | 2.68  |                    |
| 256        | 7.70  | 3.91  |                    |
| 384        | 11.77 | 5.25  |                    |
| 512        | 15.19 | 6.90  |                    |
| 640        | 18.25 | 8.47  |                    |
| 768        | 22.18 | 10.00 |                    |
| 896        | 26.78 | 11.88 |                    |
| 1024       | oom   | 13.29 |                    |
| 1152       | oom   | 14.91 |                    |
| 1280       | oom   | 16.41 |                    |
| 1408       | oom   | 18.11 |                    |
| 1536       | oom   | 19.69 |                    |
| 1664       | oom   | 21.38 |                    |
| 1792       | oom   | 23.16 |                    |
| 1920       | oom   | oom   |                    |